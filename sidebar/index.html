<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Superjective - AI Drafts</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app" class="sidebar-container">
    <!-- Auth Screen -->
    <div id="auth-screen" class="screen hidden">
      <div class="auth-content">
        <div class="logo">
          <!-- Superjective logo -->
          <svg width="120" height="100" viewBox="30 20 130 80" xmlns="http://www.w3.org/2000/svg">
            <rect x="40" y="30" width="60" height="60" rx="12" fill="#5C6BC0" />
            <rect x="70" y="50" width="40" height="40" rx="10" fill="#FFFFFF" />
            <rect x="90" y="30" width="60" height="60" rx="12" fill="#4285F4" />
          </svg>
        </div>
        <h1>Welcome</h1>
        <p>Log in to access Superjective.</p>
        <button id="login-btn" class="btn btn-primary">Continue</button>
      </div>
    </div>

    <!-- Main Screen -->
    <div id="main-screen" class="screen hidden">
      <!-- Header -->
      <div class="header">
        <h2>AI Response Drafts</h2>
        <div class="header-actions">
          <button id="logout-btn" class="btn-icon btn-subtle" title="Sign out">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
              <polyline points="16 17 21 12 16 7"></polyline>
              <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
          </button>
          <button id="close-btn" class="btn-icon" title="Close">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>

      <!-- PII Notice -->
      <div id="pii-notice" class="pii-notice hidden">
        <span class="pii-icon">ðŸ”’</span>
        <span>PII filtered before sending</span>
        <button id="pii-details-btn" class="btn-link">Details</button>
      </div>

      <!-- Context Field -->
      <div class="context-section">
        <label for="context-input">Additional Context (optional)</label>
        <textarea
          id="context-input"
          placeholder="Job description, background info, tone preferences..."
          rows="3"
        ></textarea>
        <button id="generate-btn" class="btn btn-primary">Generate with Context</button>
        <!-- Insert Hint - shown after drafts generated -->
        <div id="insert-hint" class="insert-hint hidden">
          <span>Pro tip: Start composing a message to auto-insert your selected draft</span>
        </div>
      </div>

      <!-- Loading State -->
      <div id="loading-state" class="loading-state hidden">
        <div class="spinner"></div>
        <p>Generating drafts from multiple AI models...</p>
      </div>

      <!-- Error State -->
      <div id="error-state" class="error-state hidden">
        <p id="error-message"></p>
        <button id="retry-btn" class="btn btn-secondary">Retry</button>
      </div>

      <!-- Drafts List -->
      <div id="drafts-container" class="drafts-container"></div>

      <!-- Actions -->
      <div id="actions-section" class="actions-section hidden">
        <button id="regenerate-btn" class="btn btn-secondary">
          <span>â†»</span> Regenerate All
        </button>
      </div>
    </div>
  </div>

  <script src="../lib/compromise.min.js"></script>
  <script src="../lib/pii-filter.js"></script>
  <script src="sidebar.js"></script>
</body>
</html>
